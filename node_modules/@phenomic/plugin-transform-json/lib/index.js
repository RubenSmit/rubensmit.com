"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = require("babel-runtime/helpers/extends");

var _extends3 = _interopRequireDefault(_extends2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var debug = require("debug")("phenomic:plugin:transform-json");

var transformJSON = function transformJSON() {
  return {
    name: "@phenomic/plugin-transform-json",
    supportedFileTypes: ["json"],
    transform: function transform(_ref) {
      var file = _ref.file,
          contents = _ref.contents;

      debug("transforming " + file.name);

      var json = JSON.parse(contents.toString());

      var partial = (0, _extends3.default)({
        // title fallback
        title: file.name
      }, json.partial || json);

      return {
        data: json,
        partial: partial
      };
    }
  };
};

exports.default = transformJSON;