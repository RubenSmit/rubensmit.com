<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Camera</title>
    <style>
        body {
            margin: 0;
        }
        video {
            width: 100%;
            height: 100%;
        }
        .controls {
            display: flex;
            justify-content: space-between;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <video id="webcam" autoplay playsinline width="100%" height="100%"></video>
    <div class="controls">
        <button class="from-file"><i class="fa fa-folder-open" aria-hidden="true"></i></button>
        <button class="snip" onclick="snip()"><i class="fa fa-camera" aria-hidden="true"></i></button>
        <button class="flip" onclick="flip()"><i class="fa fa-undo" aria-hidden="true"></i></button>
    </div>
    <canvas id="canvas" class="d-none"></canvas>
    <audio id="snapSound" src="audio/snap.wav" preload = "auto"></audio>
    <script type="text/javascript" src="https://unpkg.com/webcam-easy/dist/webcam-easy.min.js"></script>
    <a id="photo" href="" style="display: none;">foto downloaden</a> 
    <a href="https://medium.com/swlh/how-to-access-webcam-and-take-picture-with-javascript-b9116a983d78">Meer info over hoe je dit doet</a> 
    
   <script>
        const webcamElement = document.getElementById('webcam');
        const canvasElement = document.getElementById('canvas');
        const snapSoundElement = document.getElementById('snapSound');
        const webcam = new Webcam(webcamElement, 'user', canvasElement, snapSoundElement);

        webcam.start()
        .then(result =>{
            console.log("webcam started");
        })
        .catch(err => {
            console.log(err);
        });
       
       function snip() {
           let picture = webcam.snap();
           let element = document.getElementById("photo")
           element.href = picture;
           element.removeProperty('display');
       }
       
       function flip() {
            webcam.flip();
            webcam.start();
       }
    </script>
</body>
</html>
